{% extends 'layout.html' %}

{% block title %}: {{ product.name }}{% endblock %}

{% block main %}
    <div class="container mt-5">
        <!-- Product Details Section -->
        <div class="row">
            <!-- Product Image -->
            <div class="col-md-6 mb-4">
                <img src="{{url_for('static', filename='products/' + product.image_file_name)}}" class="img-fluid rounded shadow" alt="{{ product.name }}">
            </div>
            <!-- Product Information -->
            <div class="col-md-6">
                <h1 class="display-5">{{ product.image_file_name.split('.')[0] }}</h1>
                <p class="lead" style="font-weight: 500;">Price: <span class="text-muted">${{ product.price }}</span></p>
                <!-- Purchase and Add to Cart Buttons -->
                <form action="/confirm_payment" method="POST" class="mt-4" id="purchaseForm">
                    <input type="hidden" name="product_name" value="{{ product.name }}">
                    <input type="hidden" name="current_url" value="/shop">
                    <div class="d-flex gap-3 mb-4">
                        <button type="submit" class="btn btn-dark btn-lg">Purchase Now</button>
                        <button type="button" class="btn btn-outline-dark btn-lg" onclick="addToCart('{{ product.id }}')">Add to Cart</button>
                    </div>
                </form>
                <p class="mb-4">{{ product.description }}</p>
            </div>
        </div>
    </div>
{% endblock %}
